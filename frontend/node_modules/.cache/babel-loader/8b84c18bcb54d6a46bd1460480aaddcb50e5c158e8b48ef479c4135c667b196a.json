{"ast":null,"code":"/*! @azure/msal-browser v4.5.0 2025-02-26 */\n'use strict';\n\nimport { createClientAuthError, ClientAuthErrorCodes } from '@azure/msal-common/browser';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n// Cookie life calculation (hours * minutes * seconds * ms)\nconst COOKIE_LIFE_MULTIPLIER = 24 * 60 * 60 * 1000;\nconst SameSiteOptions = {\n  Lax: \"Lax\",\n  None: \"None\"\n};\nclass CookieStorage {\n  initialize() {\n    return Promise.resolve();\n  }\n  getItem(key) {\n    const name = `${encodeURIComponent(key)}`;\n    const cookieList = document.cookie.split(\";\");\n    for (let i = 0; i < cookieList.length; i++) {\n      const cookie = cookieList[i];\n      const [key, ...rest] = decodeURIComponent(cookie).trim().split(\"=\");\n      const value = rest.join(\"=\");\n      if (key === name) {\n        return value;\n      }\n    }\n    return \"\";\n  }\n  getUserData() {\n    throw createClientAuthError(ClientAuthErrorCodes.methodNotImplemented);\n  }\n  setItem(key, value, cookieLifeDays, secure = true, sameSite = SameSiteOptions.Lax) {\n    let cookieStr = `${encodeURIComponent(key)}=${encodeURIComponent(value)};path=/;SameSite=${sameSite};`;\n    if (cookieLifeDays) {\n      const expireTime = getCookieExpirationTime(cookieLifeDays);\n      cookieStr += `expires=${expireTime};`;\n    }\n    if (secure || sameSite === SameSiteOptions.None) {\n      // SameSite None requires Secure flag\n      cookieStr += \"Secure;\";\n    }\n    document.cookie = cookieStr;\n  }\n  async setUserData() {\n    return Promise.reject(createClientAuthError(ClientAuthErrorCodes.methodNotImplemented));\n  }\n  removeItem(key) {\n    // Setting expiration to -1 removes it\n    this.setItem(key, \"\", -1);\n  }\n  getKeys() {\n    const cookieList = document.cookie.split(\";\");\n    const keys = [];\n    cookieList.forEach(cookie => {\n      const cookieParts = decodeURIComponent(cookie).trim().split(\"=\");\n      keys.push(cookieParts[0]);\n    });\n    return keys;\n  }\n  containsKey(key) {\n    return this.getKeys().includes(key);\n  }\n}\n/**\r\n * Get cookie expiration time\r\n * @param cookieLifeDays\r\n */\nfunction getCookieExpirationTime(cookieLifeDays) {\n  const today = new Date();\n  const expr = new Date(today.getTime() + cookieLifeDays * COOKIE_LIFE_MULTIPLIER);\n  return expr.toUTCString();\n}\nexport { CookieStorage, SameSiteOptions, getCookieExpirationTime };","map":{"version":3,"names":["COOKIE_LIFE_MULTIPLIER","SameSiteOptions","Lax","None","CookieStorage","initialize","Promise","resolve","getItem","key","name","encodeURIComponent","cookieList","document","cookie","split","i","length","rest","decodeURIComponent","trim","value","join","getUserData","createClientAuthError","ClientAuthErrorCodes","methodNotImplemented","setItem","cookieLifeDays","secure","sameSite","cookieStr","expireTime","getCookieExpirationTime","setUserData","reject","removeItem","getKeys","keys","forEach","cookieParts","push","containsKey","includes","today","Date","expr","getTime","toUTCString"],"sources":["C:\\bytepantry\\frontend\\node_modules\\@azure\\msal-browser\\src\\cache\\CookieStorage.ts"],"sourcesContent":["/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nimport {\r\n    ClientAuthErrorCodes,\r\n    createClientAuthError,\r\n} from \"@azure/msal-common/browser\";\r\nimport { IWindowStorage } from \"./IWindowStorage.js\";\r\n\r\n// Cookie life calculation (hours * minutes * seconds * ms)\r\nconst COOKIE_LIFE_MULTIPLIER = 24 * 60 * 60 * 1000;\r\n\r\nexport const SameSiteOptions = {\r\n    Lax: \"Lax\",\r\n    None: \"None\",\r\n} as const;\r\nexport type SameSiteOptions =\r\n    (typeof SameSiteOptions)[keyof typeof SameSiteOptions];\r\n\r\nexport class CookieStorage implements IWindowStorage<string> {\r\n    initialize(): Promise<void> {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    getItem(key: string): string | null {\r\n        const name = `${encodeURIComponent(key)}`;\r\n        const cookieList = document.cookie.split(\";\");\r\n        for (let i = 0; i < cookieList.length; i++) {\r\n            const cookie = cookieList[i];\r\n            const [key, ...rest] = decodeURIComponent(cookie).trim().split(\"=\");\r\n            const value = rest.join(\"=\");\r\n\r\n            if (key === name) {\r\n                return value;\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getUserData(): string | null {\r\n        throw createClientAuthError(ClientAuthErrorCodes.methodNotImplemented);\r\n    }\r\n\r\n    setItem(\r\n        key: string,\r\n        value: string,\r\n        cookieLifeDays?: number,\r\n        secure: boolean = true,\r\n        sameSite: SameSiteOptions = SameSiteOptions.Lax\r\n    ): void {\r\n        let cookieStr = `${encodeURIComponent(key)}=${encodeURIComponent(\r\n            value\r\n        )};path=/;SameSite=${sameSite};`;\r\n\r\n        if (cookieLifeDays) {\r\n            const expireTime = getCookieExpirationTime(cookieLifeDays);\r\n            cookieStr += `expires=${expireTime};`;\r\n        }\r\n\r\n        if (secure || sameSite === SameSiteOptions.None) {\r\n            // SameSite None requires Secure flag\r\n            cookieStr += \"Secure;\";\r\n        }\r\n\r\n        document.cookie = cookieStr;\r\n    }\r\n\r\n    async setUserData(): Promise<void> {\r\n        return Promise.reject(\r\n            createClientAuthError(ClientAuthErrorCodes.methodNotImplemented)\r\n        );\r\n    }\r\n\r\n    removeItem(key: string): void {\r\n        // Setting expiration to -1 removes it\r\n        this.setItem(key, \"\", -1);\r\n    }\r\n\r\n    getKeys(): string[] {\r\n        const cookieList = document.cookie.split(\";\");\r\n        const keys: Array<string> = [];\r\n        cookieList.forEach((cookie) => {\r\n            const cookieParts = decodeURIComponent(cookie).trim().split(\"=\");\r\n            keys.push(cookieParts[0]);\r\n        });\r\n\r\n        return keys;\r\n    }\r\n\r\n    containsKey(key: string): boolean {\r\n        return this.getKeys().includes(key);\r\n    }\r\n}\r\n\r\n/**\r\n * Get cookie expiration time\r\n * @param cookieLifeDays\r\n */\r\nexport function getCookieExpirationTime(cookieLifeDays: number): string {\r\n    const today = new Date();\r\n    const expr = new Date(\r\n        today.getTime() + cookieLifeDays * COOKIE_LIFE_MULTIPLIER\r\n    );\r\n    return expr.toUTCString();\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}